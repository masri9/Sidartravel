<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SIDAR TRAVEL â€” ØµÙØ­Ø© Ø§Ù„Ù‡Ø¨ÙˆØ·</title>

  <!-- SEO -->
  <meta name="description" content="Ø³ÙŠØ¯Ø§Ø± ØªØ±Ø§ÙÙ„: eSIMØŒ ØªØ°Ø§ÙƒØ± Ø·ÙŠØ±Ø§Ù†ØŒ ØªØ£Ø¬ÙŠØ± Ø³ÙŠØ§Ø±Ø§ØªØŒ Ø¯Ø¹Ù… Ø³Ø±ÙŠØ¹ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨. Ø§Ø­Ø¬Ø² Ø±Ø­Ù„ØªÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ø¢Ù†.">
  <meta name="theme-color" content="#2A70DC">

  <!-- Open Graph -->
  <meta property="og:title" content="SIDAR TRAVEL â€“ Ø§Ø­Ø¬Ø² Ø±Ø­Ù„ØªÙƒ Ø¨Ø³Ù‡ÙˆÙ„Ø©" />
  <meta property="og:description" content="eSIMØŒ ØªØ°Ø§ÙƒØ± Ø·ÙŠØ±Ø§Ù†ØŒ Ø³ÙŠØ§Ø±Ø§Øª. Ø¯Ø¹Ù… ÙˆØ§ØªØ³Ø§Ø¨ 24/7." />
  <meta property="og:image" content="https://example.com/og.jpg" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="ar_AR" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Icons / Performance -->
  <link rel="icon" href="/favicon.ico">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://trpwdg.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;800&display=swap" rel="stylesheet" />

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"TravelAgency",
    "name":"SIDAR TRAVEL",
    "url":"https://sidar.travel",
    "telephone":"+9725XXXXXXXX",
    "image":"https://example.com/og.jpg",
    "address":{"@type":"PostalAddress","addressLocality":"Tel Aviv","addressCountry":"IL"},
    "sameAs":["https://instagram.com/yourpage","https://www.tiktok.com/@yourpage"]
  }
  </script>

  <style>
    :root{
      --blue:#2A70DC; --orange:#FF7A1A; --yellow:#FFE895;
      --ink:#0f1320; --ink-soft:#51607c; --white:#ffffff;
      --card:#ffffffdd; --radius:18px; --shadow:0 12px 30px rgba(0,0,0,.15);
      --whatsapp:#25D366; --bg:#FFF7E6;
    }
    *{box-sizing:border-box}
    html{scroll-behavior:smooth;}
    body{margin:0; font-family:"Tajawal",system-ui; color:var(--ink);
      background:
        radial-gradient(800px 500px at 15% -10%, rgba(255,232,149,.6), rgba(255,232,149,0) 60%),
        radial-gradient(900px 600px at 100% 0%, rgba(42,112,220,.25), rgba(42,112,220,0) 70%),
        linear-gradient(180deg, #fff 0%, var(--bg) 60%, #FFF 100%);
    }
    .container{max-width:1080px; margin:auto; padding:20px}

    header{text-align:center; padding:28px 0 12px}
    .logo{display:inline-block; padding:12px; background:rgba(255,255,255,.8);
      border-radius:50%; border:1px solid #eee; box-shadow:var(--shadow);}
    .logo img{height:70px;width:auto;display:block}

    .hero-slider{width:100%; height:360px; border-radius:20px; overflow:hidden; position:relative; margin:20px auto; box-shadow:var(--shadow)}
    .hero-slider img{width:100%; height:100%; object-fit:cover; position:absolute; inset:0; opacity:0; transition:opacity 1s ease}
    .hero-slider img.active{opacity:1;}
    @media(max-width:720px){.hero-slider{height:240px}}

    .welcome{background:var(--card); border:1px solid #eee; border-radius:var(--radius); box-shadow:var(--shadow); padding:18px; margin:14px auto; max-width:760px; text-align:center}
    .cta{display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 20px;
      border-radius:50px; background:linear-gradient(90deg, var(--whatsapp), #1ebe5b);
      color:#fff; font-weight:700; box-shadow:0 10px 24px rgba(37,211,102,.35);
      text-decoration:none; transition:transform .2s ease, box-shadow .2s ease}
    .cta:hover{transform:translateY(-3px); box-shadow:0 8px 20px rgba(37,211,102,.5)}
    .trust{display:flex; flex-wrap:wrap; gap:10px; justify-content:center; margin-top:12px}
    .badge{background:#fff; border:1px dashed #d8deeb; border-radius:999px; padding:8px 12px; font-size:13px; font-weight:700; color:#33415c}

    .section-title{font-size:22px; margin:20px 0 10px}
    .services{display:grid; grid-template-columns:repeat(2,1fr); gap:12px}
    @media(min-width:720px){.services{grid-template-columns:repeat(4,1fr)}}
    .card{background:#fff; border:1px solid #eee; border-radius:16px; padding:16px; text-align:center; cursor:pointer; transition:.2s}
    .card:hover{transform:translateY(-4px); box-shadow:var(--shadow)}
    .icon{font-size:28px}

    .widget{margin-top:18px; background:#fff; border:1px solid #eee; border-radius:var(--radius); box-shadow:var(--shadow); padding:16px; position:relative}
    .widget[hidden]{display:none!important}
    .close{position:absolute; top:10px; inset-inline-end:10px; border:none; background:#fff; width:32px; height:32px; border-radius:50%; font-weight:700; cursor:pointer}

    .testimonials{margin:40px auto 12px; background:#ffffffcc; border-radius:20px; padding:20px; box-shadow:var(--shadow); text-align:center}
    .testimonial{display:none}
    .testimonial.active{display:block}
    .testimonial p{margin:0}
    .rating{color:#FFB400; font-size:16px; letter-spacing:1px; margin-top:6px}

    /* Add review form */
    .add-review{background:#fff; border:1px solid #eee; border-radius:18px; box-shadow:var(--shadow); padding:16px; margin:14px 0 24px}
    .add-review form{display:grid; grid-template-columns:1fr; gap:10px}
    @media(min-width:720px){ .add-review form{grid-template-columns:repeat(2,1fr)} }
    .add-review input, .add-review select, .add-review textarea{
      width:100%; padding:12px 14px; border-radius:12px; border:1px solid #e3e6ee; background:#fff; font-family:inherit; font-size:15px
    }
    .add-review textarea{grid-column:1/-1; min-height:90px; resize:vertical}
    .add-review .actions{grid-column:1/-1; display:flex; gap:10px; flex-wrap:wrap}
    .btn{display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:12px 18px; border-radius:12px; border:none; cursor:pointer; font-weight:800}
    .btn-primary{background:#2A70DC; color:#fff}
    .btn-ghost{background:#f2f5ff; color:#1f3a7a}

    /* Admin panel */
    .admin-panel{position:fixed; inset:0; background:rgba(0,0,0,.4); display:none; align-items:center; justify-content:center; z-index:1000}
    .admin-box{background:#fff; width:min(720px,92vw); max-height:88vh; overflow:auto; border-radius:16px; box-shadow:var(--shadow); padding:16px}
    .admin-title{margin:0 0 10px}
    .admin-pending .item{border:1px solid #eee; border-radius:12px; padding:10px; margin-bottom:10px}
    .admin-actions{display:flex; gap:8px; margin-top:8px}
    .badge-soft{display:inline-block; padding:4px 8px; background:#fcfdff; border:1px solid #e9edf6; color:#33415c; border-radius:999px; font-size:12px}
    .hidden{display:none!important}

    .social .icons{display:flex; gap:10px; justify-content:center; margin-top:10px}
    .social a{display:inline-flex; width:44px; height:44px; align-items:center; justify-content:center; border-radius:50%; border:1px solid #ddd; box-shadow:var(--shadow); text-decoration:none; font-size:20px}

    .faq{background:#fff; border:1px solid #eee; border-radius:18px; box-shadow:var(--shadow); padding:16px; margin:20px 0}
    .faq details{border:1px solid #eef1f6; border-radius:12px; padding:12px 14px; margin-bottom:10px; background:#fcfdff}

    footer{text-align:center; color:#687793; font-size:14px; margin:28px 0 10px}

    .floatbar{position:fixed; inset-inline:12px; bottom:12px; display:flex; gap:10px;
      background:#ffffffcc; backdrop-filter:blur(6px); border:1px solid #eee; border-radius:999px; padding:8px; box-shadow:var(--shadow); z-index:50}
    .floatbar a{display:inline-flex; align-items:center; gap:6px; padding:10px 14px; border-radius:999px; text-decoration:none; font-weight:700}
    .floatbar .wa{background:linear-gradient(90deg, var(--whatsapp), #1ebe5b); color:#fff}
    .floatbar .call{background:#f6f9ff; color:#1f3a7a}
    .floatbar .book{background:#fff; color:#1f3a7a}
    @media(min-width:920px){.floatbar{display:none}}
  </style>
</head>
<body>
  <div class="container">
    <header><div class="logo"><img src="logo.PNG" alt="Ø´Ø¹Ø§Ø± Ø³ÙŠØ¯Ø§Ø± ØªØ±Ø§ÙÙ„"></div></header>

    <div class="hero-slider" id="heroSlider">
      <img src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1400&q=80" class="active" alt="Ø´Ø§Ø·Ø¦">
      <img src="https://images.unsplash.com/photo-1493558103817-58b2924bce98?auto=format&fit=crop&w=1400&q=80" alt="Ù…Ø¯ÙŠÙ†Ø©" loading="lazy">
      <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1400&q=80" alt="Ø·Ø¨ÙŠØ¹Ø©" loading="lazy">
    </div>

    <section class="welcome">
      <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ø³ÙŠØ¯Ø§Ø± ØªØ±Ø§ÙÙ„ ğŸŒ</h1>
      <p>Ù†ÙˆÙÙ‘Ø± Ù„Ùƒ Ø­Ù„ÙˆÙ„ Ø§Ù„Ø³ÙØ± Ø§Ù„Ø­Ø¯ÙŠØ«Ø©: eSIMØŒ ØªØ°Ø§ÙƒØ± Ø·ÙŠØ±Ø§Ù†ØŒ Ø³ÙŠØ§Ø±Ø§ØªØŒ ÙˆØ£Ù…Ø§ÙƒÙ† ØªØµÙˆÙŠØ± Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª.</p>
      <a id="wa-top" class="cta" href="#">ğŸ’¬ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
      <div class="trust">
        <span class="badge">ğŸ”’ Ø¯ÙØ¹ Ø¢Ù…Ù†</span>
        <span class="badge">ğŸ’¬ Ø¯Ø¹Ù… 24/7</span>
        <span class="badge">â†©ï¸ Ø¥Ù„ØºØ§Ø¡ Ù…Ø±Ù†</span>
      </div>
    </section>

    <h2 class="section-title">Ø§Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h2>
    <section class="services">
      <div class="card" id="esimCard"><div class="icon">ğŸ“¶</div><div>Ø¨Ø·Ø§Ù‚Ø§Øª eSIM</div></div>
      <div class="card" id="flightCard"><div class="icon">âœˆï¸</div><div>ØªØ°Ø§ÙƒØ± Ø·ÙŠØ±Ø§Ù†</div></div>
      <div class="card" id="carCard"><div class="icon">ğŸš—</div><div>ØªØ£Ø¬ÙŠØ± Ø³ÙŠØ§Ø±Ø§Øª</div></div>
    </section>

    <!-- Widgets -->
    <section id="widget-esim" class="widget" hidden>
      <button class="close" data-close>Ã—</button>
      <h3>Ø¨Ø·Ø§Ù‚Ø§Øª eSIM ğŸŒ</h3>
      <div id="tp-esim"></div>
    </section>

    <section id="widget-flight" class="widget" hidden>
      <button class="close" data-close>Ã—</button>
      <h3>ØªØ°Ø§ÙƒØ± Ø§Ù„Ø·ÙŠØ±Ø§Ù† âœˆï¸</h3>
      <div id="tp-flight"></div>
    </section>

    <section id="widget-car" class="widget" hidden>
      <button class="close" data-close>Ã—</button>
      <h3>ØªØ£Ø¬ÙŠØ± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª ğŸš—</h3>
      <div id="tp-car"></div>
    </section>

    <!-- Testimonials (published) -->
    <div class="testimonials" id="testimonials">
      <h2 class="section-title">Ø¢Ø±Ø§Ø¡ Ø¹Ù…Ù„Ø§Ø¦Ù†Ø§</h2>
      <!-- Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ Ø¹Ø¨Ø± JS -->
      <div id="testimonialsList">
        <!-- Ø³ÙŠØªÙ… Ø­Ù‚Ù† Ø§Ù„Ø¢Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø© Ù‡Ù†Ø§ -->
      </div>
    </div>

    <!-- Add Review (user submits; goes to pending) -->
    <section class="add-review" id="addReview">
      <h2 class="section-title">Ø£Ø¶ÙÙ Ø±Ø£ÙŠÙƒ</h2>
      <form id="reviewForm" novalidate>
        <input type="text" id="rName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" required>
        <input type="text" id="rCity" placeholder="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© / Ø§Ù„Ø¯ÙˆÙ„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
        <input type="text" id="rTrip" placeholder="Ø§Ù„ÙˆØ¬Ù‡Ø© / Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
        <select id="rRating" required>
          <option value="">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… (1-5)</option>
          <option>5</option><option>4</option><option>3</option><option>2</option><option>1</option>
        </select>
        <textarea id="rText" placeholder="Ø§ÙƒØªØ¨ Ø±Ø£ÙŠÙƒ (10 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„)" required></textarea>
        <div class="actions">
          <button type="submit" class="btn btn-primary">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ù„Ù…ÙˆØ§ÙÙ‚Ø©</button>
          <button type="reset" class="btn btn-ghost">Ù…Ø³Ø­</button>
          <span id="reviewMsg" class="badge-soft"></span>
        </div>
      </form>
      <p class="badge-soft" style="margin-top:8px">âœ”ï¸ Ø³ÙŠØªÙ… Ù†Ø´Ø± Ø±Ø£ÙŠÙƒ Ø¨Ø¹Ø¯ Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ Ù…Ù† Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©.</p>
      <button id="manageReviews" class="hidden" type="button">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¢Ø±Ø§Ø¡</button>
    </section>

    <!-- Admin Panel (hidden until Shift+M + PIN) -->
    <div class="admin-panel" id="adminPanel" aria-hidden="true">
      <div class="admin-box">
        <h3 class="admin-title">Ø¥Ø¯Ø§Ø±Ø© Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</h3>
        <div style="margin-bottom:10px">
          <span class="badge-soft" id="countsBadge">â€”</span>
        </div>
        <h4>Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©</h4>
        <div class="admin-pending" id="pendingList"></div>
        <hr>
        <h4>Ù…Ù†Ø´ÙˆØ±</h4>
        <div class="admin-published" id="publishedList"></div>
        <div style="text-align:end; margin-top:10px">
          <button class="btn btn-ghost" id="closeAdmin">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
      </div>
    </div>

    <!-- Social -->
    <section class="social">
      <h2 class="section-title">ØªØ§Ø¨Ø¹Ù†Ø§</h2>
      <div class="icons">
        <a href="https://instagram.com/yourpage" aria-label="Instagram">ğŸ“¸</a>
        <a href="https://tiktok.com/@yourpage" aria-label="TikTok">ğŸµ</a>
      </div>
    </section>

    <!-- FAQ -->
    <section class="faq">
      <h2 class="section-title">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©</h2>
      <details><summary>Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø­Ø¬Ø² Ø¨Ø¯ÙˆÙ† Ø¯ÙØ¹ ÙÙˆØ±ÙŠØŸ</summary><p>Ù†Ø¹Ù…ØŒ Ø­Ø³Ø¨ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ù…Ø²ÙˆØ¯.</p></details>
      <details><summary>ÙƒÙŠÙ Ø£Ø³ØªØ®Ø¯Ù… Ø¨Ø·Ø§Ù‚Ø© eSIMØŸ</summary><p>ÙŠÙØ±Ø³Ù„ Ù„Ùƒ QR Ø¨Ø¹Ø¯ Ø§Ù„Ø¯ÙØ¹ Ù„ØªÙØ¹ÙŠÙ„Ù‡Ø§ ÙÙˆØ±Ù‹Ø§.</p></details>
      <details><summary>Ù‡Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø«Ø§Ø¨ØªØ©ØŸ</summary><p>ØªØ®ØªÙ„Ù Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆØ³Ù… ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶.</p></details>
    </section>

    <footer>Â© <span id="year"></span> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© â€“ SIDAR TRAVEL</footer>
  </div>

  <!-- Float Bar -->
  <div class="floatbar">
    <a class="wa" id="fb-wa">ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨</a>
    <a class="call" id="fb-call">ğŸ“ Ø§ØªØµØ§Ù„</a>
    <a class="book" href="#top">â¬†ï¸ Ù„Ù„Ø£Ø¹Ù„Ù‰</a>
  </div>

  <script>
    /*************** Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© ***************/
    const PHONE="9725XXXXXXXX";
    const PHONE_CALL="+9725XXXXXXXX";
    const baseWA = (text)=>`https://wa.me/${PHONE}?text=${encodeURIComponent(text+"\\n\\nutm_source=landing&utm_medium=whatsapp&utm_campaign=lead")}`;

    // ÙˆØ¯Ø¬Ø§Øª Travelpayouts
    const ESIM_SRC="https://trpwdg.com/content?trs=239791&shmarker=448045.Sidar&locale=en&powered_by=false&promo_id=8588&campaign_id=541";
    const FLIGHT_SRC="https://trpwdg.com/content?currency=usd&trs=239791&shmarker=448045.Sidar&locale=en&promo_id=3414&campaign_id=111";
    const CAR_SRC="https://trpwdg.com/content?trs=273484&shmarker=448045.Sidar&locale=en&powered_by=true&campaign_id=172&promo_id=4850";

    // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¢Ø±Ø§Ø¡ (PIN)
    const ADMIN_PIN = "2468"; // â† ØºÙŠÙ‘Ø±Ù‡Ø§

    /*************** CTA / Ø¨Ø§Ù†Ø± ***************/
    const waTop=document.getElementById("wa-top");
    const fbWa=document.getElementById("fb-wa");
    const fbCall=document.getElementById("fb-call");
    if(waTop) waTop.href=baseWA("Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø± Ø¹Ù† Ø§Ù„Ø®Ø¯Ù…Ø§Øª âœˆï¸");
    if(fbWa) fbWa.href=baseWA("Ù…Ø±Ø­Ø¨Ù‹Ø§ØŒ Ø£Ø±ÙŠØ¯ Ø§Ù„ØªØ­Ø¯Ø« Ø§Ù„Ø¢Ù† ğŸ‘‹");
    if(fbCall) fbCall.href=`tel:${PHONE_CALL}`;

    const slides=document.querySelectorAll('#heroSlider img');let i=0;
    setInterval(()=>{slides[i].classList.remove('active');i=(i+1)%slides.length;slides[i].classList.add('active');},4000);

    /*************** ÙˆØ¯Ø¬Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª ***************/
    const hideAllWidgets=()=>document.querySelectorAll('.widget').forEach(w=>w.hidden=true);
    const inject=(el,src)=>{ if(el.dataset.loaded) return; const s=document.createElement('script'); s.src=src; s.async=true; s.charset='utf-8'; el.appendChild(s); el.dataset.loaded=1; };
    const showWidget=(id,src)=>{ hideAllWidgets(); const w=document.getElementById(id); if(w){ w.hidden=false; w.scrollIntoView({behavior:'smooth'}); const tp=w.querySelector('div'); inject(tp,src);} };

    document.getElementById('esimCard').onclick=()=>showWidget('widget-esim',ESIM_SRC);
    document.getElementById('flightCard').onclick=()=>showWidget('widget-flight',FLIGHT_SRC);
    document.getElementById('carCard').onclick=()=>showWidget('widget-car',CAR_SRC);
    document.querySelectorAll('.close').forEach(btn=>btn.onclick=hideAllWidgets);

    /*************** Ù†Ø¸Ø§Ù… Ø¢Ø±Ø§Ø¡ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ (Ø¨Ø¯ÙˆÙ† Ø¨Ø§Ùƒ-Ø¥Ù†Ø¯) ***************/
    const LS_PUB = 'sidar_reviews_published';
    const LS_PEN = 'sidar_reviews_pending';

    function load(key, fallback){ try{ return JSON.parse(localStorage.getItem(key)) || fallback; }catch(_){ return fallback; } }
    function save(key, value){ localStorage.setItem(key, JSON.stringify(value)); }

    // Ø¢Ø±Ø§Ø¡ Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ© (Ù„Ù…Ù‘Ø§ Ù…Ø§ ÙŠÙƒÙˆÙ† ÙÙŠ Ù…Ù†Ø´ÙˆØ±)
    const seed = [
      {name:"Ø£Ø­Ù…Ø¯", city:"Ø¯Ø¨ÙŠ", trip:"Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„", rating:5, text:"Ø®Ø¯Ù…Ø© Ù…Ù…ØªØ§Ø²Ø© Ø¬Ø¯Ù‹Ø§ ÙˆØ³Ø±Ø¹Ø© ÙÙŠ Ø§Ù„Ø±Ø¯!", ts: Date.now()-86400000*3},
      {name:"Ù„ÙŠÙ„Ù‰", city:"Ø¹Ù…Ù‘Ø§Ù†", trip:"Ø£Ù†Ø·Ø§Ù„ÙŠØ§", rating:5, text:"Ø±Ø­Ù„ØªÙŠ ÙƒØ§Ù†Øª Ù…Ù†Ø¸Ù…Ø© Ø¬Ø¯Ù‹Ø§ØŒ Ø´ÙƒØ±Ù‹Ø§ Ø³ÙŠØ¯Ø§Ø±.", ts: Date.now()-86400000*2},
      {name:"ÙÙ‡Ø¯", city:"Ø§Ù„Ø±ÙŠØ§Ø¶", trip:"Ø¨Ø§Ø±ÙŠØ³", rating:4, text:"ØªØ¬Ø±Ø¨Ø© Ø±Ø§Ø¦Ø¹Ø© ÙˆØ£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§Ø³Ø¨Ø©.", ts: Date.now()-86400000}
    ];

    let published = load(LS_PUB, []);
    if(!published.length){ published = seed; save(LS_PUB, published); }
    let pending = load(LS_PEN, []);

    // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†Ø´ÙˆØ± ÙÙŠ Ù‚Ø³Ù… testimonials (Ø³Ù„Ø§ÙŠØ¯Ø± Ø¨Ø³ÙŠØ·)
    const listEl = document.getElementById('testimonialsList');
    function renderPublished(){
      listEl.innerHTML = '';
      if(!published.length){ listEl.innerHTML = '<p class="muted">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¢Ø±Ø§Ø¡ Ù…Ù†Ø´ÙˆØ±Ø© Ø¨Ø¹Ø¯.</p>'; return; }
      published.forEach((rv, idx)=>{
        const item = document.createElement('div');
        item.className = 'testimonial' + (idx===0 ? ' active' : '');
        const stars = 'â˜…'.repeat(rv.rating) + 'â˜†'.repeat(5-rv.rating);
        const meta = [rv.name, rv.city, rv.trip].filter(Boolean).join(' â€¢ ');
        item.innerHTML = `<p>${rv.text}</p><div class="rating" aria-label="Ø§Ù„ØªÙ‚ÙŠÙŠÙ…">${stars}</div><strong style="display:block;margin-top:6px">${meta}</strong>`;
        listEl.appendChild(item);
      });
      // Ø¯ÙˆÙ‘Ø§Ø±
      const tEls = listEl.querySelectorAll('.testimonial');
      let j=0; setInterval(()=>{ if(!tEls.length) return; tEls[j].classList.remove('active'); j=(j+1)%tEls.length; tEls[j].classList.add('active'); }, 5000);
    }
    renderPublished();

    // Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ø±Ø£ÙŠ (ÙŠØ±ÙˆØ­ Ù„Ù„Ù…Ø¹Ù„Ù‘Ù‚Ø© pending)
    const form = document.getElementById('reviewForm');
    const msg  = document.getElementById('reviewMsg');
    form.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name  = document.getElementById('rName').value.trim();
      const city  = document.getElementById('rCity').value.trim();
      const trip  = document.getElementById('rTrip').value.trim();
      const rating= parseInt(document.getElementById('rRating').value,10);
      const text  = document.getElementById('rText').value.trim();

      if(!name || !text || !rating || text.length < 10){
        msg.textContent = 'â†˜ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…ØŒ ØªØ¹Ù„ÙŠÙ‚ â‰¥ 10 Ø£Ø­Ø±Ù).';
        return;
      }
      pending.push({name, city, trip, rating, text, ts: Date.now()});
      save(LS_PEN, pending);
      form.reset();
      msg.textContent = 'âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø£ÙŠÙƒ. Ø³ÙŠØªÙ… Ù…Ø±Ø§Ø¬Ø¹ØªÙ‡ Ø®Ù„Ø§Ù„ ÙˆÙ‚Øª Ù‚ØµÙŠØ±.';
      setTimeout(()=>msg.textContent='', 4000);
    });

    /*************** Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Ù…Ø®ÙÙŠØ©) ***************/
    const adminPanel = document.getElementById('adminPanel');
    const pendingList= document.getElementById('pendingList');
    const publishedList= document.getElementById('publishedList');
    const countsBadge= document.getElementById('countsBadge');
    const closeAdmin = document.getElementById('closeAdmin');

    function renderAdmin(){
      countsBadge.textContent = `Ø¨Ø§Ù†ØªØ¸Ø§Ø±: ${pending.length} Â· Ù…Ù†Ø´ÙˆØ±: ${published.length}`;
      // pending
      pendingList.innerHTML = '';
      if(!pending.length){ pendingList.innerHTML = '<p class="muted">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©.</p>'; }
      pending.forEach((rv, idx)=>{
        const div = document.createElement('div');
        div.className = 'item';
        const stars = 'â˜…'.repeat(rv.rating) + 'â˜†'.repeat(5-rv.rating);
        div.innerHTML = `
          <div><strong>${rv.name}</strong> <span class="badge-soft">${rv.city || 'â€”'}</span> <span class="badge-soft">${rv.trip || 'â€”'}</span></div>
          <div class="rating" style="margin:6px 0">${stars}</div>
          <div>${rv.text}</div>
          <div class="admin-actions">
            <button class="btn btn-primary" data-approve="${idx}">Ù†Ø´Ø±</button>
            <button class="btn btn-ghost" data-reject="${idx}">Ø±ÙØ¶</button>
          </div>`;
        pendingList.appendChild(div);
      });

      // published
      publishedList.innerHTML = '';
      if(!published.length){ publishedList.innerHTML = '<p class="muted">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¢Ø±Ø§Ø¡ Ù…Ù†Ø´ÙˆØ±Ø©.</p>'; }
      published.forEach((rv, idx)=>{
        const div = document.createElement('div');
        div.className = 'item';
        const stars = 'â˜…'.repeat(rv.rating) + 'â˜†'.repeat(5-rv.rating);
        div.innerHTML = `
          <div><strong>${rv.name}</strong> <span class="badge-soft">${rv.city || 'â€”'}</span> <span class="badge-soft">${rv.trip || 'â€”'}</span></div>
          <div class="rating" style="margin:6px 0">${stars}</div>
          <div>${rv.text}</div>
          <div class="admin-actions">
            <button class="btn btn-ghost" data-unpublish="${idx}">Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù†Ø´Ø±</button>
          </div>`;
        publishedList.appendChild(div);
      });

      // events
      pendingList.querySelectorAll('[data-approve]').forEach(btn=>{
        btn.onclick = ()=>{
          const idx = parseInt(btn.dataset.approve,10);
          published.push(pending[idx]);
          pending.splice(idx,1);
          save(LS_PUB, published); save(LS_PEN, pending);
          renderAdmin(); renderPublished();
        };
      });
      pendingList.querySelectorAll('[data-reject]').forEach(btn=>{
        btn.onclick = ()=>{
          const idx = parseInt(btn.dataset.reject,10);
          pending.splice(idx,1);
          save(LS_PEN, pending);
          renderAdmin();
        };
      });
      publishedList.querySelectorAll('[data-unpublish]').forEach(btn=>{
        btn.onclick = ()=>{
          const idx = parseInt(btn.dataset.unpublish,10);
          pending.push(published[idx]);
          published.splice(idx,1);
          save(LS_PUB, published); save(LS_PEN, pending);
          renderAdmin(); renderPublished();
        };
      });
    }

    function openAdmin(){
      adminPanel.style.display='flex';
      adminPanel.setAttribute('aria-hidden','false');
      renderAdmin();
    }
    function closeAdminFn(){
      adminPanel.style.display='none';
      adminPanel.setAttribute('aria-hidden','true');
    }
    closeAdmin.onclick = closeAdminFn;

    // Shortcut: Shift + M â†’ ÙŠØ·Ù„Ø¨ PIN
    document.addEventListener('keydown', (e)=>{
      if(e.shiftKey && e.key.toLowerCase()==='m'){
        const pin = prompt('Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (PIN):');
        if(pin === ADMIN_PIN){ openAdmin(); }
        else if(pin!==null){ alert('Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­'); }
      }
    });

    // Ø²Ø± Ù…Ø®ÙÙŠ (Ø§Ø­ØªÙŠØ§Ø·ÙŠ)
    const manageBtn = document.getElementById('manageReviews');
    manageBtn.onclick = ()=>{
      const pin = prompt('Ø£Ø¯Ø®Ù„ Ø±Ù…Ø² Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (PIN):');
      if(pin === ADMIN_PIN){ openAdmin(); } else { alert('Ø§Ù„Ø±Ù…Ø² ØºÙŠØ± ØµØ­ÙŠØ­'); }
    };

    /*************** Ø³Ù†Ø© Ø§Ù„ÙÙˆØªØ± ***************/
    document.getElementById("year").textContent=new Date().getFullYear();
  </script>
</body>
</html>